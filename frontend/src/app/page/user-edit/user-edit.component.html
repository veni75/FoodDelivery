<div class="row">
    <div *ngIf="(user$ | async) as user" class="col-6 offset-3">
        <form #userForm="ngForm" (ngSubmit)="onUpdate(userForm, user)">
            <div class="form-group my-4">
                <label for="lastName">Vezetéknév</label>
                <input name="lastName" [(ngModel)]="user.lastName" type="text" id="lastName"
                    class="form-control border-success" pattern="^[A-Ű][a-űA-Ű- ]{1,19}$" required>
                <div [hidden]="userForm.controls.lastName?.valid" class="error-message">
                    A vezetéknév minimum 2 és maximum 20 karakterből állhat.
                </div>
            </div>
            <div class="form-group my-4">
                <label for="firstName">Keresztnév</label>
                <input name="firstName" [(ngModel)]="user.firstName" type="text" id="firstName"
                    class="form-control border-success" pattern="[A-Ű][a-űA-Ű- ]{1,19}" required>
                <div [hidden]="userForm.controls.firstName?.valid" class="error-message">
                    A keresztnév minimum 2 és maximum 20 karakterből állhat.
                </div>
            </div>
            <div class="form-group my-4">
                <label for="email">Email</label>
                <input name="email" [(ngModel)]="user.email" type="text" id="email" class="form-control border-success"
                    pattern="^[a-űA-Ű0-9.-]{2,}@\w{2,}.\w{2,}$" required>
                <div [hidden]="userForm.controls.email?.valid" class="error-message">
                    Az email az alábbi formátumú lehet: nev@pelda.vegzodes.
                </div>
            </div>
            <div class="form-group my-4">
                <label for="phone">Telefonszám</label>
                <input name="phone" [(ngModel)]="user.phone" type="text" id="phone" class="form-control border-success"
                    pattern="^06\d{8,9}$" required>
                <div [hidden]="userForm.controls.phone?.valid" class="error-message">
                    A telefonszám 10 vagy 11 számjegyből állhat, és 06 számjegyekkel kezdődjön.
                </div>
            </div>
            <div class="form-group my-4">
                <label for="zip">Irányítószám</label>
                <input name="zip" [(ngModel)]="user.zip" type="number" id="zip" class="form-control border-success"
                    pattern="^[1-9]\d{3}$" required>
                <div [hidden]="userForm.controls.zip?.valid" class="error-message">
                    Az irányítószám 4 számjegyből állhat.
                </div>
            </div>
            <div class="form-group my-4">
                <label for="city">Település</label>
                <input name="city" [(ngModel)]="user.city" type="text" id="city" class="form-control border-success"
                    pattern="^[A-Ű][a-ű]{1,29}$" required>
                <div [hidden]="userForm.controls.city?.valid" class="error-message">
                    A város neve minimum 2 és maximum 30 karakterből állhat.
                </div>
            </div>

            <div class="form-group my-4">
                <label for="address">Cím (utca, házszám)</label>
                <input name="address" [(ngModel)]="user.address" type="text" class="form-control border-success"
                    pattern=".{5,20}" required>
                <div [hidden]="userForm.controls.address?.valid" class="error-message">
                    Az utca neve minimum 5 és maximum 20 karakterből állhat.
                </div>
            </div>
            <div class="my-4">
                <label for="password">Password: </label>
                <input id="password" name="password" [(ngModel)]="user.password" type="password" class="form-control border-success"
                  pattern="^[a-zA-Z0-9]{8,15}$" required>
                  <div [hidden]="userForm.controls.password?.valid" class="error-message">
                    A jelszó minimum 8 és maximum 15 karakterből állhat.
                  </div>
              </div>
              <div class="my-4">
                <label for="role">Role: </label>
                <input id="role" name="role" [(ngModel)]="user.role" type="number" min="1" max="3" class="form-control border-success"
                  pattern="^[1-3]$" required>
                  <div [hidden]="userForm.controls.role?.valid" class="error-message">
                    A role csak 1,2 vagy 3 lehet.
                  </div>
              </div>
            <button [disabled]="userForm.invalid || updating" type="submit" class="btn btn-success btn-block btn-lg">
                <i *ngIf="!updating" class="fa fa-save"></i>
                <i *ngIf="updating" class="fa fa-refresh"></i>
            </button>
        </form>
    </div>
</div>