<div class="container-fluid">
    <h1 class="text-success text-center fw-bold my-5">Miben van a legtöbb...?</h1>
    <div class="border border-success border-3 rounded p-5">
        <form action="">
            <h3>Válaszd ki azt a vitamint vagy ásványi anyagot, amelyikre kíváncsi vagy, hogy melyik étel
                tartalmazza a
                legtöbbet belőle!</h3>
            <div class="row">
                <div class="form-group col-lg-6">
                    <label for="myComponent">Komponens</label>
                    <select id="myComponent" name="myComponent" [(ngModel)]="myComponent"
                        class="form-control border border-success rounded" placeholder="Válassz egy komponenst"
                        required>
                        <option *ngFor="let component of componentList" [value]="component">{{component}}</option>
                    </select>
                </div>
                <div class="form-group col-lg-6">
                    <label for="foodGroup">Ételcsoport</label>
                    <select id="foodGroup" name="foodGroup" [(ngModel)]="myFood"
                        class="form-control border border-success rounded" required>
                        <option *ngFor="let food of foodList" [value]="food">{{food}}</option>
                    </select>
                </div>
            </div>
        </form>
    </div>
    <div *ngIf="myComponent" class="border border-success border-3 rounded my-5 p-5">
        <div class="row text-center">
            <h3 class="mb-3">A választott {{myComponent}} komponenst az alábbi ételek tartalmazzák:</h3>
            <div class="col-lg-6 offset-lg-3">
                <div>
                    <table *ngIf="myComponent" class="table table-hover">
                        <thead class="text-success">
                            <tr>
                                <th>étel</th>
                                <th>{{myComponent}}</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let nutrient of nutrientsList$ | async | bestoffilter:myComponent:myFood">
                                <td>{{nutrient.foodName}}</td>
                                <td>{{nutrient.myComponent}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-12 col-lg-3 my-5">
            <select [(ngModel)]="filterKey" class="form-control border-success">
                <option *ngFor="let key of filterKeys" [value]="key">
                    {{ key }}
                </option>
            </select>
        </div>
        <div class="col-12 col-lg-4 my-5">
            <form class="form-inline my-2 my-lg-0">
                <input class="form-control border-success mr-sm-2" type="text" placeholder="Keresés"
                    (keyup)="onChangePhrase($event)">

            </form>
        </div>
    </div>
    <div class="card">
        <div class="card-header card-header-primary">
            <h4 class="card-title text-success py-3">Tápanyagtáblázat</h4>

        </div>
        <div class="card-body text-center">
            <div class="table-responsive" id="target">
                <table class="table table-striped table-hover table-bordered border-success align-middle">
                    <thead class="text-success">
                        <tr>
                            <th (click)="onColumnSelect('foodName')">étel</th>
                            <th (click)="onColumnSelect('foodGroup')">ételcsoport</th>
                            <th (click)="onColumnSelect('Avitamin')">Avitamin</th>
                            <th (click)="onColumnSelect('B1vitamin')">B1vitamin</th>
                            <th (click)="onColumnSelect('B2vitamin')">B2vitamin</th>
                            <th (click)="onColumnSelect('B3vitamin')">B3vitamin</th>
                            <th (click)="onColumnSelect('B5vitamin')">B5vitamin</th>
                            <th (click)="onColumnSelect('B6vitamin')">B6vitamin</th>
                            <th (click)="onColumnSelect('B12vitamin')">B12vitamin</th>
                            <th (click)="onColumnSelect('Cvitamin')">Cvitamin</th>
                            <th (click)="onColumnSelect('Dvitamin')">Dvitamin</th>
                            <th (click)="onColumnSelect('Evitamin')">Evitamin</th>
                            <th (click)="onColumnSelect('Kvitamin')">Kvitamin</th>
                            <th (click)="onColumnSelect('folat')">folát</th>
                            <th (click)="onColumnSelect('kalcium')">kalcium</th>
                            <th (click)="onColumnSelect('rez')">réz</th>
                            <th (click)="onColumnSelect('vas')">vas</th>
                            <th (click)="onColumnSelect('magnezium')">magnézium</th>
                            <th (click)="onColumnSelect('mangan')">mangán</th>
                            <th (click)="onColumnSelect('foszfor')">foszfor</th>
                            <th (click)="onColumnSelect('kalium')">kálium</th>
                            <th (click)="onColumnSelect('szelen')">szelén</th>
                            <th (click)="onColumnSelect('natrium')">nátrium</th>
                            <th (click)="onColumnSelect('cink')">cink</th>
                            <th (click)="onColumnSelect('omegaharom')">omega3</th>
                            <th (click)="onColumnSelect('omegahat')">omega6</th>
                            <th (click)="onColumnSelect('telitett')">telitett</th>
                            <th (click)="onColumnSelect('szenhidrat')">szénhidrát</th>
                            <th (click)="onColumnSelect('rost')">rost</th>
                            <th (click)="onColumnSelect('kemenyito')">keményítő</th>
                            <th (click)="onColumnSelect('feherje')">fehérje</th>
                            <th (click)="onColumnSelect('cisztein')">cisztein</th>
                            <th (click)="onColumnSelect('hisztidin')">hisztidin</th>
                            <th (click)="onColumnSelect('izoleucin')">izoleucin</th>
                            <th (click)="onColumnSelect('leucin')">leucin</th>
                            <th (click)="onColumnSelect('lizin')">lizin</th>
                            <th (click)="onColumnSelect('metionin')">metionin</th>
                            <th (click)="onColumnSelect('fenilAlanin')">fenil-alanin</th>
                            <th (click)="onColumnSelect('treonin')">treonin</th>
                            <th (click)="onColumnSelect('triptofan')">triptofan</th>
                            <th (click)="onColumnSelect('tirozin')">tirozin</th>
                            <th (click)="onColumnSelect('valin')">valin</th>
                            <th (click)="onColumnSelect('zsir')">zsir</th>
                            <th><i *ngIf="!direction" class="fa fa-arrow-up"></i>
                                <i *ngIf="direction" class="fa fa-arrow-down"></i>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr
                            *ngFor="let nutrient of nutrientsList$ | async | filter:phrase:filterKey  | sorter:columnKey:direction">
                            <td>{{nutrient.foodName}}</td>
                            <td>{{nutrient.foodGroup}}</td>
                            <td>{{nutrient.Avitamin}}</td>
                            <td>{{nutrient.B1vitamin}}</td>
                            <td>{{nutrient.B2vitamin}}</td>
                            <td>{{nutrient.B3vitamin}}</td>
                            <td>{{nutrient.B5vitamin}}</td>
                            <td>{{nutrient.B6vitamin}}</td>
                            <td>{{nutrient.B12vitamin}}</td>
                            <td>{{nutrient.Cvitamin}}</td>
                            <td>{{nutrient.Dvitamin}}</td>
                            <td>{{nutrient.Evitamin}}</td>
                            <td>{{nutrient.Kvitamin}}</td>
                            <td>{{nutrient.folat}}</td>
                            <td>{{nutrient.kalcium}}</td>
                            <td>{{nutrient.rez}}</td>
                            <td>{{nutrient.vas}}</td>
                            <td>{{nutrient.magnezium}}</td>
                            <td>{{nutrient.mangan}}</td>
                            <td>{{nutrient.foszfor}}</td>
                            <td>{{nutrient.kalium}}</td>
                            <td>{{nutrient.szelen}}</td>
                            <td>{{nutrient.natrium}}</td>
                            <td>{{nutrient.cink}}</td>
                            <td>{{nutrient.omegaharom}}</td>
                            <td>{{nutrient.omegahat}}</td>
                            <td>{{nutrient.telitett}}</td>
                            <td>{{nutrient.szenhidrat}}</td>
                            <td>{{nutrient.rost}}</td>
                            <td>{{nutrient.kemenyito}}</td>
                            <td>{{nutrient.feherje}}</td>
                            <td>{{nutrient.cisztein}}</td>
                            <td>{{nutrient.hisztidin}}</td>
                            <td>{{nutrient.izoleucin}}</td>
                            <td>{{nutrient.leucin}}</td>
                            <td>{{nutrient.lizin}}</td>
                            <td>{{nutrient.metionin}}</td>
                            <td>{{nutrient.fenilAlanin}}</td>
                            <td>{{nutrient.treonin}}</td>
                            <td>{{nutrient.triptofan}}</td>
                            <td>{{nutrient.tirozin}}</td>
                            <td>{{nutrient.valin}}</td>
                            <td>{{nutrient.zsir}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>